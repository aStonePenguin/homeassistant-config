###############################################################################
#  @author       :  Rohan Kapoor
#  @date         :  08/06/2018
#  @package      :  Media / Music
#  @description  :  Controls the Chromecast Audio devices and integrates them
#                   with Harmony. Speakers power on and off automatically
###############################################################################
---
homeassistant:
  customize:
    ################################################
    ## Node Anchors
    ################################################
    package.node_anchors:
      customize: &customize
        package: 'media_music'

################################################
## Emulated Roku
################################################
emulated_roku:
  servers:
    - name: !secret emulated_roku.name
      listen_port: !secret emulated_roku.listen_port
      host_ip: !secret emulated_roku.host_ip

################################################
## Media Player
################################################
media_player:
  - platform: universal
    name: All Speakers
    children:
      - media_player.whole_house

################################################
## Sensor
################################################
sensor:
  - platform: template
    sensors:

      all_speakers_media_title:
        friendly_name: Title
        value_template: "{{ state_attr('media_player.all_speakers', 'media_title') }}"

      all_speakers_media_artist:
        friendly_name: Artist
        value_template: "{{ state_attr('media_player.all_speakers', 'media_artist') }}"

      1second_silence_url:
        value_template: !secret media_content_id.1second_silence

