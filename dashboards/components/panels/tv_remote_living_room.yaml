type: custom:layout-card
cards:
  - type: custom:layout-card
    layout_type: vertical
    cards:
      - type: grid
        columns: 6
        square: false
        cards:
          - type: custom:button-card
            template: remote
            entity: media_player.denon_avr_x4300h
            variables:
              source: Apple TV
              name: Apple TV
              media_player_entity: media_player.denon_avr_x4300h
              script: turn_on_watch_living_room_apple_tv
            icon: si:appletv
          - type: custom:button-card
            template: remote
            entity: media_player.denon_avr_x4300h
            variables:
              source: Shield
              name: Shield
              media_player_entity: media_player.denon_avr_x4300h
              script: turn_on_watch_living_room_tv
            icon: si:nvidia
          - type: custom:button-card
            template: remote
            entity: media_player.denon_avr_x4300h
            variables:
              source: PC
              name: Music
              media_player_entity: media_player.denon_avr_x4300h
              script: turn_on_the_living_room_speakers
            icon: mdi:audio-video
            styles:
              icon:
                - color: |
                    [[[
                      var avr_attributes = states['media_player.denon_avr_x4300h'].attributes;
                      if (avr_attributes.source === variables.source
                          && avr_attributes.sound_mode == 'MCH STEREO') {
                        return 'var(--paper-item-icon-active-color)';
                      } else  {
                        return 'var(--paper-item-icon-color)';
                      }
                    ]]]
          - type: custom:button-card
            template: remote
            entity: media_player.denon_avr_x4300h
            variables:
              source: PC
              name: Video Call
              media_player_entity: media_player.denon_avr_x4300h
              script: turn_on_the_living_room_video_conferencing_system
            icon: mdi:video
            styles:
              icon:
                - color: |
                    [[[
                      var avr_attributes = states['media_player.denon_avr_x4300h'].attributes;
                      if (avr_attributes.source === variables.source
                          && avr_attributes.sound_mode == 'STEREO') {
                        return 'var(--paper-item-icon-active-color)';
                      } else  {
                        return 'var(--paper-item-icon-color)';
                      }
                    ]]]
          - type: custom:button-card
            template: remote
            entity: media_player.denon_avr_x4300h
            variables:
              source: Switch
              name: Switch
              media_player_entity: media_player.denon_avr_x4300h
              script: turn_on_the_nintendo_switch
            icon: |
              <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <title>Nintendo Switch</title>
                <path d="M14.176 24h3.674c3.376 0 6.15-2.774 6.15-6.15V6.15C24 2.775 21.226 0 17.85 0H14.1c-.074 0-.15.074-.15.15v23.7c-.001.076.075.15.226.15zm4.574-13.199c1.351 0 2.399 1.125 2.399 2.398 0 1.352-1.125 2.4-2.399 2.4-1.35 0-2.4-1.049-2.4-2.4-.075-1.349 1.05-2.398 2.4-2.398zM11.4 0H6.15C2.775 0 0 2.775 0 6.15v11.7C0 21.226 2.775 24 6.15 24h5.25c.074 0 .15-.074.15-.149V.15c.001-.076-.075-.15-.15-.15zM9.676 22.051H6.15c-2.326 0-4.201-1.875-4.201-4.201V6.15c0-2.326 1.875-4.201 4.201-4.201H9.6l.076 20.102zM3.75 7.199c0 1.275.975 2.25 2.25 2.25s2.25-.975 2.25-2.25c0-1.273-.975-2.25-2.25-2.25s-2.25.977-2.25 2.25z"/>
              </svg>
          - type: custom:button-card
            template: remote
            entity: media_player.denon_avr_x4300h
            variables:
              source: 'Off'
              name: Power Off
              media_player_entity: media_player.denon_avr_x4300h
              script: turn_off_the_living_room_tv
            icon: mdi:power
      - type: custom:state-switch
        entity: template
        template: "{{ state_attr('media_player.denon_avr_x4300h', 'source') }}"
        default: Shield
        states:
          "Apple TV":
            type: custom:decluttering-card
            template: apple_tv_remote
            variables:
              - apple_tv_media_player_entity: media_player.living_room_apple_tv
              - apple_tv_remote_entity: remote.living_room_apple_tv
              - volume_media_player_entity: media_player.denon_avr_x4300h
              - volume_mute_command: /goform/formiPhoneAppDirect.xml?RCKSK0410370
          "Shield":
            type: custom:decluttering-card
            template: shield_remote
            variables:
              - shield_media_player_entity: media_player.living_room_shield_tv
              - shield_remote_entity: remote.living_room_shield_tv
              - volume_media_player_entity: media_player.denon_avr_x4300h
              - volume_mute_command: /goform/formiPhoneAppDirect.xml?RCKSK0410370
      - type: grid
        columns: 5
        cards:
          - type: custom:decluttering-card
            template: hue_sync_button_card
            variables:
              - script: script.turn_on_the_living_room_tv_light_sync
              - entertainment_area: Living Room
          - type: custom:decluttering-card
            template: slider_button_card
            variables:
              - entity: light.living_room_lights
              - name: Ceiling
          - type: custom:decluttering-card
            template: slider_button_card
            variables:
              - entity: fan.living_room_fan
              - name: Fan
          - type: custom:decluttering-card
            template: slider_button_card
            variables:
              - entity: light.hallway_lights
              - name: Hallway
          - type: custom:decluttering-card
            template: slider_button_card
            variables:
              - entity: light.kitchen_lights
              - name: Kitchen
    view_layout:
      grid_area: left
layout_type: custom:grid-layout
layout:
  grid-template-columns: 1fr
  grid-template-rows: auto
  grid-template-areas: |
    "left"
  mediaquery:
    '(max-width: 800px)':
      grid-template-columns: 1fr
      grid-template-areas: |
        "left"
view_layout:
  grid-area: main